# Lectic VS Code Extension

This extension integrates the `lectic` command-line tool into Visual Studio 
Code, providing features for interacting with Lectic conversations (files with 
the `.lec` or `.lectic` extension).

## Installation

VSIX files are distributed with lectic releases, 
[here](https://github.com/gleachkr/Lectic/releases/).

## Features

*   **Generate Next Response:** Send the current buffer content to `lectic -s` 
    to generate the next part of the conversation. The output streams into the 
    editor.
*   **Explain Selection:** Select a portion of text and ask `lectic` to rewrite 
    it with more explanation and detail.
*   **Block Highlighting:** Automatically highlights blocks delimited by 
    `:::SPEAKER` and `:::` with a customizable background color.
*   **Tool Call Folding:** Enables folding of `<tool-call>` and `</tool-call>` 
    tags generated by `lectic`.
*   **Markdown Integration:** Treats `.lec` and `.lectic` files as Markdown for 
    standard syntax highlighting.

## Usage

1.  Ensure the `lectic` command-line tool is installed and accessible in your 
    system's PATH, or configure the full path in VS Code settings 
    (`lectic.executablePath`).
2.  Open a `.lec` or `.lectic` file.
3.  Use the Command Palette (`Ctrl+Shift+P` or `Cmd+Shift+P`) and type `Lectic` 
    to access the available commands:
    *   `Generate Next`
    *   `Consolidate`
    *   `Explain Selection` (requires text to be selected)
4.  Alternatively, use the default keybindings (configurable in VS Code 
    Keyboard Shortcuts):
    *   Generate Next: `Alt+L` (`Cmd+L` on macOS)
    *   Consolidate: `Alt+C` (`Cmd+C` on macOS)
    *   Explain Selection: `Alt+E` (`Cmd+E` on macOS)

## Configuration

*   `lectic.executablePath`: Set the full path to the `lectic` executable if 
    it's not in your PATH.
*   `lectic.blockBackgroundColor`: Customize the background color for the `:::` 
    blocks. Accepts standard VS Code color formats (e.g., `#RRGGBBAA`, 
    `rgba(...)`, theme color IDs like `editor.selectionBackground`).

## Working Directory

When `lectic` is executed, the extension ensures that the command runs in the 
same directory as the `.lec` file you are editing. This is important so that 
`lectic` can correctly resolve relative paths for any content references or 
tools you might be using in your conversation.

If you are working with an unsaved file, `lectic` will run in the root of your 
current workspace.
